
<html>

  <head>
    <title>Concertina Fingering</title>
    <script src="fingering.js" type="text/javascript"></script>
    <script src="abcjs_editor_1.5-min.js" type="text/javascript"></script>

    <style>
      textarea {width:600px;height:200px}
    </style>
  </head>
  <body>
    <h3>Anglo Concertina Fingering Generator</h3>
    <p>Updated March 19, 2013
    <p>Notes:
      <ol>
        <li>Only Jeffries C/G button layouts supported right now.
        <li>Fingering choices are still not optimal. For example, bellows usage is ignored. More work is needed here.
        <li>Thanks to Ransom for some additional accidental-handling code.
      </ol>

    <h3>Instructions</h3>
    <p>Paste an ABC style tune into the box below, then hit "Generate Fingerings". 
    <p>Then copy the resulting annotated ABC into your clipboard and use it on many of the fine PDF generator sites for ABC notation.  
      My personal favorite is <a href='http://drawthedots.com/'>Draw The Dots</a>.
    <p>For button notation, see the <a href='button-notation.png'>Button Notation Chart</a></p>
    <br>
    ABC Input:<br>

    <textarea id="input">
X: 1
T: Wind That Shakes The Barley, The
M: 4/4
L: 1/8
R: reel
K: Dmaj
 |A2FA     ADFD|BDGD     B2dA|FAAB     ABde|fded      BcdB|
 A2FA     ADFD|BDGD      B2dA|FAAB     ABde|fded      Bcde|
 |f2fa      g2ge|f2fd      Bcde|f2fd    g2 (3efg|afed   Bcde|
f2fa      g2ge|f2fd     Bcdc|defg    a2bf|afed      BcdB|
N:This is a test.
   </textarea>
<!--
<textarea id="input">
X: 1
T: Harvest Time
M: 2/4
L: 1/8
R: polka
K: A
|:ec d3/2f/2|ec dc|B2 ed |Bc df|
|ec d3/2f/2|ec dc|B2 ed |Bc A2:|
|ec ea| g3 a|ff/2e/2 fa|fe cd|
|ec ea|fd fa|gb eg|ba a2:|
   </textarea>
-->
    <br><br>
    <button onClick="var abc=document.getElementById('input').value;
                     var result=finger(abc);
                     document.getElementById('output').value=result;
	             abc_editor = new ABCJS.Editor('output', { paper_id: 'paper0', warnings_id:'warnings' });">
      Generate Fingerings</button>
    <br><br>
    ABC Output, with fingerings:<br>
    <textarea id="output"></textarea>

<div id="warnings"></div>
<div id="paper0"></div>

<script type="text/javascript">
	window.onload = function() {
		//abc_editor = new ABCJS.Editor("output", { paper_id: "paper0",warnings_id:"warnings" });
        }
</script>

    <br><br>
    <hr>
    <p>Graphical music rendering is courtesy of the excellent <a href=' https://code.google.com/p/abcjs/'>abcjs library</a>.
    <p>Comments: jim@jimandbarb.DELETETHISPART.net
  </body>

</html>
